{% extends "journalists/profile.xhtml" %}

{% block publishingEdit %}
<h2>Publishing History <a href="/journalist/{{ journalist.slug}}/">[Cancel]</a></h2>
<form action="/journalist/{{ journalist.slug }}/publishing/edit/" method="POST">
  {% csrf_token %}
  {{ formset.management_form }}
  <ul class="plus-minus-form">
    <li>
      {{ form.id }}
      <label for="id_{{ form.prefix }}-publisher">{{ form.publisher.label }}</label> {{ form.publisher }}
      <label for="id_{{ form.prefix }}-start">{{ form.start.label }} </label> {{ form.start }}
      <label for="id_{{ form.prefix }}-end">{{ form.end.label }} </label> {{ form.end }}
    </li>
    {% for f in formset %}
      <li>
        {{ f.id }}
        <label for="id_{{ f.prefix }}-publisher">{{ f.publisher.label }}</label> {{ f.publisher }}
        <label for="id_{{ f.prefix }}-start">{{ f.start.label }} </label> {{ f.start }}
        <label for="id_{{ f.prefix }}-end">{{ f.end.label }} </label> {{ f.end }}
      </li>
    {% endfor %}
  </ul>
  <input type="submit" value="Submit" style="display: block;" />  
</form>
{% endblock %}

{% block extrajs %}<script type="text/javascript" src="/static/js/plusminus.js"></script>
<script type="text/javascript">
  jQuery(document).ready(function() { createPlusMinus('ul.plus-minus-form', 'pub'); });
</script>{% endblock %}
